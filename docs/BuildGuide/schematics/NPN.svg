<?xml version="1.0" encoding="utf-8"?>
<svg viewBox="0 0 900 750" xmlns="http://www.w3.org/2000/svg">
  <text style="font-family: Arial, sans-serif; font-size: 20px; font-weight: 700; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, -11.459185, 1.273243)"><tspan x="429.971" y="57.312" dy="1em">​</tspan><tspan>    Powering 8 A3144 Hall Sensors (1 column) from a single 74HC595 output</tspan><tspan x="429.971" dy="1em">​</tspan><tspan>  </tspan></text>
  <rect x="50" y="200" width="140" height="120" fill="#e3f2fd" stroke="#333" stroke-width="2"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; white-space: pre;" x="118.734" y="254.468">Shift Register </text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="116.95" y="270.007">74HC595</text>
  <line x1="79.391" y1="199.511" x2="79.391" y2="99.511" stroke="#d32f2f" style="stroke-width: 3px;"/>
  <text style="fill: rgb(211, 47, 47); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="51.635" y="193.049">VCC</text>
  <line x1="80" y1="320" x2="80" y2="551.783" stroke="#333" style="stroke-width: 3.018;"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="51.365" y="333.435">GND</text>
  <circle cx="190" cy="260" r="4" fill="#333"/>
  <line x1="190" y1="260" x2="280" y2="260" stroke="#333" stroke-width="2"/>
  <text style="font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 26.540482, -6.878758)"><tspan x="200" y="250">1 Output PIN</tspan><tspan x="200" dy="1em">​</tspan><tspan>(QA-QH</tspan><tspan>)</tspan></text>
  <rect x="280" y="250" width="70" height="20" fill="white" stroke="#333" stroke-width="2"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 13px; text-anchor: middle; white-space: pre;" x="315" y="264">680Ω-1kΩ</text>
  <text style="font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="315.485" y="243.877">R1</text>
  <line x1="350" y1="260" x2="400" y2="260" stroke="#333" stroke-width="2"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="383.612" y="254.435">Base</text>
  <line x1="400" y1="215.603" x2="400" y2="300" stroke="#333" style="stroke-width: 3px;"/>
  <circle cx="400" cy="260" r="3" fill="#333"/>
  <line x1="400.16" y1="233.55" x2="440" y2="200" stroke="#333" style="stroke-width: 3px;"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="388.99" y="199.481">Collector</text>
  <line x1="400" y1="285" x2="439.128" y2="316.386" stroke="#333" style="stroke-width: 3px;"/>
  <polygon points="441.428 318.995 427.192 314.114 435.637 305.294" fill="#333" style="stroke-width: 1.252;"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="391.46" y="326.666">Emitter</text>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; font-weight: 700; white-space: pre;" x="409.379" y="257.161">NPN Transistor</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="409.379" y="272.161">2N2222, 2N3904, etc</text>
  <line x1="440" y1="200" x2="440" y2="100" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="440" cy="100" r="3" fill="#d32f2f"/>
  <line x1="439.486" y1="318.919" x2="539.486" y2="318.919" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="442.096" cy="318.838" r="3" fill="#d32f2f"/>
  <line x1="79.135" y1="100" x2="750" y2="100" stroke="#d32f2f" style="stroke-width: 3px;"/>
  <text x="727.186" y="120.157" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#d32f2f" style="white-space: pre; font-size: 16px;">+5V</text>
  <line x1="540" y1="153.841" x2="540" y2="465.305" stroke="#d32f2f" style="stroke-width: 2px;"/>
  <circle cx="540.14" cy="318.734" r="3" fill="#d32f2f"/>
  <line x1="560" y1="185.604" x2="560" y2="552.528" stroke="#333" style="stroke-width: 2px;"/>
  <circle cx="559.989" cy="550.141" r="3" fill="#333"/>
  <rect x="590" y="140" width="100" height="60" fill="#fff9c4" stroke="#333" stroke-width="2"/>
  <text x="640" y="165" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333" style="white-space: pre;">Hall Sensor</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="640" y="182">A3144</text>
  <line x1="590" y1="155" x2="540" y2="155" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="585" cy="155" r="2" fill="#d32f2f"/>
  <circle cx="540" cy="155" r="2" fill="#d32f2f"/>
  <text style="fill: rgb(211, 47, 47); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="564.217" y="149.959">VCC</text>
  <line x1="590" y1="185" x2="560" y2="185" stroke="#333" stroke-width="2"/>
  <circle cx="585" cy="185" r="2" fill="#333"/>
  <circle cx="560" cy="185" r="2" fill="#333"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="563.017" y="179.819">GND</text>
  <line x1="690" y1="170" x2="750" y2="170" stroke="#1976d2" stroke-width="2"/>
  <text style="fill: rgb(25, 118, 210); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="700" y="165">OUT (row)</text>
  <rect x="590" y="210" width="100" height="60" fill="#fff9c4" stroke="#333" stroke-width="2"/>
  <text x="640" y="235" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333" style="white-space: pre;">Hall Sensor</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="640" y="252">A3144</text>
  <line x1="590" y1="225" x2="540" y2="225" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="585" cy="225" r="2" fill="#d32f2f"/>
  <circle cx="540" cy="225" r="2" fill="#d32f2f"/>
  <text style="fill: rgb(211, 47, 47); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="564.557" y="220.299">VCC</text>
  <line x1="590" y1="255" x2="560" y2="255" stroke="#333" stroke-width="2"/>
  <circle cx="585" cy="255" r="2" fill="#333"/>
  <circle cx="560" cy="255" r="2" fill="#333"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="563.536" y="250.213">GND</text>
  <line x1="690" y1="240" x2="750" y2="240" stroke="#1976d2" stroke-width="2"/>
  <text style="fill: rgb(25, 118, 210); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="700" y="235">OUT (row)</text>
  <circle cx="640" cy="300" r="4" fill="#333"/>
  <circle cx="640" cy="320" r="4" fill="#333"/>
  <circle cx="640" cy="340" r="4" fill="#333"/>
  <rect x="590" y="380" width="100" height="60" fill="#fff9c4" stroke="#333" stroke-width="2"/>
  <text x="640" y="405" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333" style="white-space: pre;">Hall Sensor</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="640" y="422">A3144</text>
  <line x1="590" y1="395" x2="540" y2="395" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="585" cy="395" r="2" fill="#d32f2f"/>
  <circle cx="540" cy="395" r="2" fill="#d32f2f"/>
  <text style="fill: rgb(211, 47, 47); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="563.536" y="391.32">VCC</text>
  <line x1="590" y1="425" x2="560" y2="425" stroke="#333" stroke-width="2"/>
  <circle cx="585" cy="425" r="2" fill="#333"/>
  <circle cx="560" cy="425" r="2" fill="#333"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="562.516" y="420.177">GND</text>
  <line x1="690" y1="410" x2="750" y2="410" stroke="#1976d2" stroke-width="2"/>
  <text style="fill: rgb(25, 118, 210); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="700" y="405">OUT (row)</text>
  <rect x="590" y="450" width="100" height="60" fill="#fff9c4" stroke="#333" stroke-width="2"/>
  <text x="640" y="475" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="#333" style="white-space: pre;">Hall Sensor</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; white-space: pre;" x="640" y="492">A3144</text>
  <line x1="590" y1="465" x2="540" y2="465" stroke="#d32f2f" stroke-width="2"/>
  <circle cx="585" cy="465" r="2" fill="#d32f2f"/>
  <circle cx="540" cy="465" r="2" fill="#d32f2f"/>
  <text style="fill: rgb(211, 47, 47); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="563.876" y="461.32">VCC</text>
  <line x1="590" y1="495" x2="560" y2="495" stroke="#333" stroke-width="2"/>
  <circle cx="585" cy="495" r="2" fill="#333"/>
  <circle cx="560" cy="495" r="2" fill="#333"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="563.752" y="490.213">GND</text>
  <line x1="690" y1="480" x2="750" y2="480" stroke="#1976d2" stroke-width="2"/>
  <text style="fill: rgb(25, 118, 210); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="700" y="475">OUT (row)</text>
  <line x1="79.246" y1="550.244" x2="749.477" y2="550.244" stroke="#333" stroke-width="3" style="stroke-width: 3.001;"/>
  <line x1="748.52" y1="550.127" x2="748.52" y2="560.127" stroke="#333" style="stroke-width: 3px;"/>
  <line x1="738.52" y1="560.127" x2="758.52" y2="560.127" stroke="#333" style="stroke-width: 2px;"/>
  <line x1="741.52" y1="565.127" x2="755.52" y2="565.127" stroke="#333" stroke-width="2"/>
  <line x1="744.52" y1="570.127" x2="752.52" y2="570.127" stroke="#333" style="stroke-width: 2px;"/>
  <text x="746.016" y="537.706" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#333" text-anchor="middle" style="white-space: pre; font-size: 14px;">GND</text>
  <rect x="88.962" y="352.181" width="442.198" height="182.918" fill="#f5f5f5" stroke="#666" stroke-width="1" rx="4.252" style="stroke-width: 0.971;"/>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 14px; font-weight: 700; text-anchor: middle; white-space: pre;" x="316.267" y="369.651">How it Works (NPN High-Side Switch)</text>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="6.458" y="-14.224"><tspan x="97.887" y="396.767" style="font-size: 11px; word-spacing: 0px;">• </tspan><tspan style="fill: rgb(0, 0, 0); font-size: 11px; word-spacing: 0px;">When Shift Register Output is</tspan><tspan style="font-size: 11px; word-spacing: 0px;"> </tspan><tspan style="font-weight: 700; font-size: 11px; word-spacing: 0px;">HIGH</tspan><tspan style="font-size: 11px; word-spacing: 0px;">:</tspan></text>
  <text x="107.887" y="411.767" font-family="Arial, sans-serif" font-size="10" fill="#555" style="white-space: pre; font-size: 10px;">  → Base is pulled high through R1 (~4mA)</text>
  <text x="107.887" y="424.767" font-family="Arial, sans-serif" font-size="10" fill="#555" style="white-space: pre; font-size: 10px;">  → Emitter-Base forward biased (transistor turns ON)</text>
  <text x="107.887" y="437.767" font-family="Arial, sans-serif" font-size="10" fill="#555" style="white-space: pre; font-size: 10px;">  → +5V flows from collector → to emitter → to all 8 hall sensors' Vcc (~64mA total)</text>
  <text x="107.887" y="450.767" font-family="Arial, sans-serif" font-size="10" fill="#555" style="white-space: pre; font-size: 10px;">  → Sensors get ~4.2V from the transistor emitter, not quite enough to ensure reliable operation</text>
  <text style="fill: rgb(51, 51, 51); font-family: Arial, sans-serif; font-size: 11px; white-space: pre;" x="0.941" y="-6.585"><tspan style="fill: rgb(0, 0, 0); font-size: 11px; word-spacing: 0px;" x="97.887" y="466.767">• When Shift Register Output is</tspan><tspan style="font-size: 11px; word-spacing: 0px;"> </tspan><tspan style="font-weight: 700; font-size: 11px; word-spacing: 0px;">LOW</tspan><tspan style="font-size: 11px; word-spacing: 0px;">: </tspan><tspan style="fill: rgb(85, 85, 85); font-size: 11px; word-spacing: 0px;">Transistor OFF → no Vcc power to sensors</tspan></text>
  <text x="97.887" y="486.767" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#d32f2f" style="white-space: pre; font-size: 11px;">⚠ Why Use a Transistor?</text>
  <text x="107.887" y="500.767" font-family="Arial, sans-serif" font-size="10" fill="#555" style="white-space: pre; font-size: 10px;">Without transistor: 8 sensors × 8mA = 64mA directly from a single shift register output !</text>
  <text style="fill: rgb(85, 85, 85); font-family: Arial, sans-serif; font-size: 10px; white-space: pre;" transform="matrix(1, 0, 0, 1, 6.458119, -14.224594)"><tspan x="101.429" y="526.991">This  </tspan><tspan style="font-weight: 700;">EXCEEDS </tspan><tspan> the 74HC595 35mA max per pin and can cause:<tspan x="101.42900085449219" dy="1em">​</tspan>overheating, damage, voltage drop, unreliable operation</tspan></text>
  <text x="465.919" y="304.28" font-family="Arial, sans-serif" font-size="10" fill="#d32f2f" style="white-space: pre; font-size: 10px;">Switched ~4.2V</text>
  <text style="fill: rgb(255, 76, 0); font-family: Arial, sans-serif; font-size: 10px; white-space: pre;" x="480.973" y="314.456">~64mA</text>
  <text style="fill: rgb(102, 102, 102); font-family: Arial, sans-serif; font-size: 10px; white-space: pre;" x="212.795" y="272.117">~4mA</text>
  <circle cx="439.877" cy="199.776" r="3" fill="#d32f2f" style="stroke-width: 1;"/>
  <circle cx="750.763" cy="100.019" r="3" fill="#d32f2f" style="stroke-width: 1;"/>
  <circle cx="748.462" cy="550.178" r="3" fill="#333" style="stroke-width: 1;"/>
  <rect x="109.164" y="112.466" width="301.083" height="71.235" fill="#f5f5f5" stroke="#666" stroke-width="1" rx="2.896" style="stroke-width: 0.628;"/>
  <text style="fill: rgb(255, 0, 0); font-family: Arial, sans-serif; font-size: 14px; text-anchor: middle; white-space: pre;" transform="matrix(1, 0, 0, 1, 3.050905, -18.182907)"><tspan x="254.473" y="150.258">⚠ Prefer using </tspan><tspan style="font-weight: 700;">PNP</tspan><tspan> for high side switching </tspan>⚠<tspan x="254.47300720214844" dy="1em">​</tspan><tspan style="font-weight: 700;">NPN</tspan><tspan> needs 5.7V to fully activate</tspan><tspan x="254.47300720214844" dy="1em">​</tspan><tspan>but the shift register will only provide &lt;5V<tspan x="254.47300720214844" dy="1em">​</tspan>Emitter voltage might be too low for the A3144</tspan></text>
</svg>